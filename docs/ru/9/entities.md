---
id: entities
title: Сущности
core: 9
metatags:
  title: 'Drupal 9: Entity'
  description: 'Обзор Entity API Drupal 9.'
---

**Сущность (англ. Entity)** — это легковесный [доменный объект](https://ru.wikipedia.org/wiki/%D0%94%D0%BE%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82) который имеет хранилище данных. Один PHP объект сущности представляет конкретную единицу данных. В качестве хранилища данных может использоваться как БД, так и файлы, а разработчики могут описывать новые типы хранилищ и источники данных.

У сущностей, как правило, есть свои репозитории (англ. respository). Репозиторий — это постоянный функционал, который позволяет управлять сущностями конкретного типа. Он позволяет загружать, сохранять, удалять и искать сущности в их непосредственном хранилище.

## Сущности в Drupal

Сущности в Drupal используются для хранения данных. В качестве примера можно привести следующие сущности:

- `node` (Node) — также известна как «Тип материала». Предоставляется одноимённым модулем `node`. Это основная сущность в Drupal, которая, в [установочных профилях](distributions/distributions.md) отличных от [минимального](distributions/profile-minimal.md), включена по умолчанию. Она используется для создания содержимого на сайте: Страницы, Публикации, Новости, Отзывы и т.д. Это основная сущность для хранения и работы с содержимым из коробки.
- `user` (User) — сущность «Пользователь» предоставляет хранилище данных для пользователей сайта. Как правило хранит, имя пользователя, логин, пароль, email и т.д.
- `file` (File) — сущность «File», это пример очень минимальной и легковесной сущности. Данная сущность хранит информацию о физических файлах загруженных в друпал, и используется для обращения и работы с ними. По умолчанию, для данной сущности не предоставляется никакого интерфейса.

А также множество других сущностей с различными назначениями и возможностями.

## Типы сущностей в Drupal

Сущности в Drupal базируются на [Plugin API](plugins/plugins.md). Их можно разделить на два основных подтипа:

- **Контент сущность** (`ContentEntityType`): Сущности, которые хранят свои данные в базе данных. Отлично подходят для хранения больших объёмов данных. Каждая сущность имеет свою выделенную таблицу.
- **Конфигурационная сущность** (`ConfigEntityType`): Конфигурационные сущности используются для хранения небольшого объема данных. Они хранятся в YAML файлах и больше известны как «конфиги». Конфигурационные сущности можно деплоить, синхронизировать и они отслеживаются в системе контроля версий.

Это лишь две основные и готовые абстрактные реализации поставляемые ядром. Они должны покрывать 99% потребностей. Для оставшегося 1% и очень нетипичных кейсов, существует более низкоуровневая абстракция, которую и расширяют описанные два — `EntityType`.

Вы можете описать совершенно новый подтип сущности, унаследовавшись от `EntityType`. В таком случае, вам придётся полностью брать всё под свой контроль. В данном случае Drupal не выдвигает фактически никаких требований, и вы вольны делать что угодно. Где будут храниться данные — решать вам. Это отличная точка старта, если вы хотите что-то очень уникальное не вписывающееся в предоставленные готовые абстракции, и\или вы хотите хранить данные не в БД\YAML. Например, такие сущности могут выступать в качестве прокси для API.

## См. также

- [Plugin API](plugins/plugins.md) — сущности, это пример очень гибкой реализации плагинов.

## Ссылки

- [Основы: Сущности контента и Поля](https://www.drupal.org/ru/docs/user_guide/ru/planning-data-types.html), drupal.org.
- [Сущности Drupal 8](https://drupal-coder.ru/blog/susnosti-drupal-8), Синица Сергей, drupal-coder.ru.
