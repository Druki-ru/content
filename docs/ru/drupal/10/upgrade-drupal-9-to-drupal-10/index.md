---
title: Руководство по обновлению Drupal 9 до Drupal 10
slug: wiki/10/upgrade-drupal-9-to-drupal-10
core: 10
metatags:
  title: 'Обновление с Drupal 9 до Drupal 10'
  description: 'Что нужно сделать чтобы подготовить Drupal 9 к обновлению до Drupal 10, а затем, обновить его.'
authors:
  - Niklan
---

<Aside type="warning" header="Материал не завершен">

[Drupal 10](../index.md) находится в разработке, его релиз запланирован на июнь 2022. Материал подготавливается заранее, поэтому некоторая информация может измениться, дополниться или удалиться.

</Aside>

В этом руководстве вы узнаете, как подготовить сайт, созданный на [Drupal 9](../../9/index.md), для обновления на [Drupal 10](../index.md), а затем обновить его.

## Введение

[Drupal 10.0.0](../../releases/10/10.0.x/10.0.0/index.md) является практически идентичной копией [Drupal 9.4.0](../../releases/9/9.4.x/9.4.0/index.md), за исключением того, что в Drupal 10 удалён весь код который объявлен устаревшим за время поддержки Drupal 9.

Замена вызовов устаревшего API на новый API — является основной задачей при обновлении. Если вы уделяли достаточное внимание коду в процессе поддержки сайта на Drupal 9, обновление должно быть максимально простым, как если бы вы обновлялись на новый минорный релиз Drupal 9.

Обновление Drupal 9 до Drupal 10 должно быть очень простым, но каждый проект собирается по-разному. Проблемы с конкретными сторонними модулями вы должны будете решать индивидуально, так как ситуации будут у всех разные.

Обновление можно свести к двум основным этапам:

- **Подготовка Drupal 9:** На данном этапе необходимо будет привести в порядок сайт на  Drupal 9.
- **Обновление до Drupal 10:** На этом этапе будет производиться обновление зависимостей.

## Подготовка Drupal 9 к обновлению

В данном разделе описаны этапы, которые помогут вам подготовить сайт на Drupal 9 к последующему обновлению на Drupal 10.

Прежде чем начать подготовку к обновлению, настоятельно **рекомендуется сделать резервную копию** проекта и базы данных. После каждого успешно пройденного этапа вы можете делать новую резервную копию, чтобы не повторять все предыдущие действия.

<Aside type="warning">

Подготавливайте сайт к обновлению на локальном сервере, или сервере для разработки.

</Aside>

### Проверка системных требований

Прежде чем начать что-то делать с сайтом, убедитесь что ваш текущий боевой сервер соответствует [системным требованиям Drupal 10](../system-requirements/index.md).

**Сводка:**

- Минимальная версия PHP увеличена до 8.0.2, а рекомендуемая до 8.1.0+.
- База данных должна поддерживать JSON тип данных.
- Если вы используете MySQL или Percona Server — минимальная версия 5.7.8.
- Если вы используете MariaDB — минимальная версия 10.3.7.
- Если вы используете PostgreSQL — минимальная версия 12.
- Если вы используете SQLite — минимальная версия 3.26.

<Aside type="tip">

Если вы не уверены, поддерживает ли ваша база данных JSON тип, вы можете открыть «Отчёт о состоянии» (`/admin/reports/status`) на Drupal 9. На данной странице будет проверка «Поддержка JSON базой данных», которая и сообщит вам текущее состояние.

</Aside>

### Обновление Drupal 9 до актуального состояния

Перед обновлением вам потребуется самая актуальная версия Drupal 9, это значит, что вам нужно обновить текущий сайт до [Drupal 9.4.x](../../releases/9/9.4.x/9.4.0/index.md). Проводите данное обновление как вы это обычно делаете, никаких дополнительных действий тут принимать не нужно.

<Aside type="warning">

Не нужно обновлять ядро пропуская минорные релизы, например обновлять [Drupal 9.1.0](../../releases/9/9.1.x/9.1.0/index.md) сразу до Drupal 9.4.0. Делайте всё последовательно — минорную версию обновляйте на следующую минорную (9.1 → 9.2 → 9.3 → 9.4) и так до 9.4.0. Попытки «перепрыгнуть» могут сработать, но и могут создать непредвиденные ситуации и ошибки, которые всплывут в ходе обновления. 

</Aside>

### Обновление сторонних модулей до актуального состояния

Если вы не обновили модули попутно с ядром, вам необходим обновить все используемые сторонние модули до актуальных версий, как вы это обычно делаете. В новых версиях может быть реализована поддержка Drupal 10 или улучшена совместимость.

Убедитесь что у всех используемых модулей вы используете актуальные [мажорные версии](../../../semver/index.md). Устаревшие версии могут быть несовместимы с Drupal 10.